<div class="teacher-form-container">
  <form class="teacher-form" (ngSubmit)="onSave()">
    
    <!-- Basic Information Section -->
    <div class="form-section">
      <h3 class="section-title">Basic Information</h3>
      
      <div class="form-group">
        <label for="full_name" class="form-label">Full Name *</label>
        <input
          type="text"
          id="full_name"
          name="full_name"
          class="form-input"
          [(ngModel)]="formData.full_name"
          (ngModelChange)="onFullNameChange()"
          [disabled]="isViewMode"
          required
          placeholder="Enter full name"
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="first_name" class="form-label">First Name *</label>
          <input
            type="text"
            id="first_name"
            name="first_name"
            class="form-input"
            [(ngModel)]="formData.first_name"
            (ngModelChange)="onFormFieldChange()"
            [disabled]="isViewMode"
            required
            placeholder="First name"
          />
        </div>

        <div class="form-group">
          <label for="middle_name" class="form-label">Middle Name</label>
          <input
            type="text"
            id="middle_name"
            name="middle_name"
            class="form-input"
            [(ngModel)]="formData.middle_name"
            [disabled]="isViewMode"
            placeholder="Middle name"
          />
        </div>

        <div class="form-group">
          <label for="last_name" class="form-label">Last Name *</label>
          <input
            type="text"
            id="last_name"
            name="last_name"
            class="form-input"
            [(ngModel)]="formData.last_name"
            (ngModelChange)="onFormFieldChange()"
            [disabled]="isViewMode"
            required
            placeholder="Last name"
          />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="username" class="form-label">Username *</label>
          <input
            type="text"
            id="username"
            name="username"
            class="form-input"
            [(ngModel)]="formData.username"
            (ngModelChange)="onFormFieldChange()"
            [disabled]="isViewMode || isEditMode"
            required
            placeholder="Enter username"
          />
        </div>

        <div class="form-group" *ngIf="!isEditMode">
          <label for="password" class="form-label">Password *</label>
          <input
            type="password"
            id="password"
            name="password"
            class="form-input"
            [(ngModel)]="formData.password"
            (ngModelChange)="onFormFieldChange()"
            [disabled]="isViewMode"
            [required]="!isEditMode"
            placeholder="Enter password"
          />
        </div>

        <div class="form-group">
          <label for="email_address" class="form-label">Email Address *</label>
          <input
            type="email"
            id="email_address"
            name="email_address"
            class="form-input"
            [(ngModel)]="formData.email_address"
            (ngModelChange)="onFormFieldChange()"
            [disabled]="isViewMode"
            required
            placeholder="Enter email"
          />
        </div>
      </div>
    </div>

    <!-- Personal Information Section -->
    <div class="form-section">
      <h3 class="section-title">Personal Information</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="date_of_birth" class="form-label">Date of Birth</label>
          <input
            type="date"
            id="date_of_birth"
            name="date_of_birth"
            class="form-input"
            [(ngModel)]="formData.date_of_birth"
            [disabled]="isViewMode"
          />
        </div>

        <div class="form-group">
          <label for="age" class="form-label">Age</label>
          <input
            type="number"
            id="age"
            name="age"
            class="form-input"
            [(ngModel)]="formData.age"
            [disabled]="isViewMode"
            placeholder="Age"
          />
        </div>

        <div class="form-group">
          <label for="gender" class="form-label">Gender</label>
          <select
            id="gender"
            name="gender"
            class="form-input"
            [(ngModel)]="formData.gender"
            [disabled]="isViewMode"
          >
            <option value="">Select Gender</option>
            <option value="MALE">Male</option>
            <option value="FEMALE">Female</option>
            <option value="OTHER">Other</option>
          </select>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="teacher_qualification" class="form-label">Qualification</label>
          <input
            type="text"
            id="teacher_qualification"
            name="teacher_qualification"
            class="form-input"
            [(ngModel)]="formData.teacher_qualification"
            [disabled]="isViewMode"
            placeholder="Enter qualification (e.g., MS Computer Science)"
          />
        </div>

        <div class="form-group">
          <label for="joining_date" class="form-label">Joining Date</label>
          <input
            type="date"
            id="joining_date"
            name="joining_date"
            class="form-input"
            [(ngModel)]="formData.joining_date"
            [disabled]="isViewMode"
          />
        </div>
      </div>
    </div>

    <!-- Location Information Section -->
    <div class="form-section">
      <h3 class="section-title">Location Information</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="country_id" class="form-label">Country</label>
          <select
            id="country_id"
            name="country_id"
            class="form-input"
            [(ngModel)]="formData.country_id"
            (ngModelChange)="onCountryChange()"
            [disabled]="isViewMode || isLoadingCountries"
          >
            <option [value]="null">Select Country</option>
            <option *ngFor="let country of countries" [value]="country.country_id">
              {{ country.country_name }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="state_id" class="form-label">State</label>
          <select
            id="state_id"
            name="state_id"
            class="form-input"
            [(ngModel)]="formData.state_id"
            (ngModelChange)="onStateChange()"
            [disabled]="isViewMode || !formData.country_id || isLoadingStates"
          >
            <option [value]="null">Select State</option>
            <option *ngFor="let state of states" [value]="state.state_id">
              {{ state.state_name }}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="city_id" class="form-label">City</label>
          <select
            id="city_id"
            name="city_id"
            class="form-input"
            [(ngModel)]="formData.city_id"
            [disabled]="isViewMode || !formData.state_id || isLoadingCities"
          >
            <option [value]="null">Select City</option>
            <option *ngFor="let city of cities" [value]="city.city_id">
              {{ city.city_name }}
            </option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <label for="address" class="form-label">Address</label>
        <textarea
          id="address"
          name="address"
          class="form-input"
          rows="3"
          [(ngModel)]="formData.address"
          [disabled]="isViewMode"
          placeholder="Enter complete address"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="zip_code" class="form-label">Zip Code</label>
        <input
          type="text"
          id="zip_code"
          name="zip_code"
          class="form-input"
          [(ngModel)]="formData.zip_code"
          [disabled]="isViewMode"
          placeholder="Enter zip code"
        />
      </div>
    </div>

    <!-- Form Actions -->
    <div class="form-actions" *ngIf="!isViewMode">
      <button type="button" class="btn btn-cancel" (click)="onCancel()">
        Cancel
      </button>
      <button type="submit" class="btn btn-save">
        {{ isEditMode ? 'Update Teacher' : 'Save Teacher' }}
      </button>
    </div>

    <div class="form-actions" *ngIf="isViewMode">
      <button type="button" class="btn btn-close" (click)="onCancel()">
        Close
      </button>
    </div>

  </form>
</div>
